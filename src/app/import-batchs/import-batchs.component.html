<div class="container">

  <!-- Filter section -->
  <div class="filter">
  </div>

  <!-- Batchs Table -->
  <div class="table-container mat-elevation-z4">
    <ng-container class="loading-spinner" *ngIf="isLoadingResults">
      <mat-spinner></mat-spinner>
    </ng-container>

    <mat-table
      [dataSource]="batchsTable"
      matSort
      matSortActive="channelName"
      matSortDisableClear
      matSortDirection="asc"
      class="table"
      >

      <!-- column channelName -->
      <ng-container matColumnDef="channelName">
        <mat-header-cell *matHeaderCellDef mat-sort-header
        i18n="Batchs Table|@@column_channelName"
        > Channel Name </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.channelName}} </mat-cell>
      </ng-container>

      <!-- columna firstEvent -->
      <ng-container matColumnDef="firstEvent">
        <mat-header-cell *matHeaderCellDef mat-sort-header
        i18n="Batchs Table|@@column_firstEvent"
        > First Event </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.firstEvent | date: 'y, MMM d, H:mm:ss z': tz}} </mat-cell>
      </ng-container>

      <!-- columna lastEvent -->
      <ng-container matColumnDef="lastEvent">
        <mat-header-cell *matHeaderCellDef mat-sort-header
        i18n="Batchs Table|@@column_lastEvent"
        > Last Event </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.lastEvent | date: 'y, MMM d, H:mm:ss z': tz}} </mat-cell>
      </ng-container>

      <!-- column totalEvents -->
      <ng-container matColumnDef="totalEvents">
        <mat-header-cell *matHeaderCellDef mat-sort-header
        i18n="Batchs Table|@@column_totalEvents"
        > Events </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.totalEvents}} </mat-cell>
      </ng-container>

      <!-- columna createdAt -->
      <ng-container matColumnDef="createdAt">
        <mat-header-cell *matHeaderCellDef mat-sort-header
        i18n="Batchs Table|@@column_createdAt"
        > Created </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.createdAt | date: 'y, MMM d, H:mm:ss z'}} </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="columnsToDisplay"></mat-header-row>
      <mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row"></mat-row>
    </mat-table>
    <mat-paginator *ngIf="batchsTable.page$ | async as page"
      [length]="page.totalElements"
      [pageSize]="page.size"
      [pageIndex]="page.number"
      [pageSizeOptions]="[2, 5, 10, 20]"
      showFirstLastButtons
      (page)="batchsTable.fetch($event.pageIndex)">
    </mat-paginator>
  </div>
</div>
